# 手把手教你使用 Spring Boot 3 开发上线一个前后端分离的生产级系统(https://www.cnblogs.com/xxyopen/)

## 项目简介
novel 是一套基于时下最新 Java 技术栈 Spring Boot 3 + Vue 3 开发的前后端分离学习型开源项目，配备详细的项目开发文档手把手教你从零开始开发上线一个生产级别的 Java 系统，由小说门户系统、作家后台管理系统、平台后台管理系统等多个子系统构成。包括小说推荐、作品检索、小说排行榜、小说阅读、小说评论、会员中心、作家专区、充值订阅、新闻发布等功能。

## 开发环境
- MySQL 8.0
- Redis 7.0
- Elasticsearch 8.2.0（可选）
- RabbitMQ 3.10.2（可选）
- XXL-JOB 2.3.1（可选）
- JDK 17
- Maven 3.8
- IntelliJ IDEA 2021.3（可选）
- Node 16.14

## 后端技术选型
技术|版本|说明
---|---|---
Spring Boot         |3.0.0-SNAPSHOT         |容器 + MVC 框架
Mybatis             |3.5.9                  |ORM 框架
MyBatis-Plus	    |3.5.1	                |Mybatis 增强工具
JJWT	            |0.11.5	                |JWT 登录支持
Lombok	            |1.18.24	            |简化对象封装工具
Caffeine	        |3.1.0	                |本地缓存支持
Redis	            |7.0	                |分布式缓存支持
MySQL	            |8.0	                |数据库服务
ShardingSphere-JDBC	|5.1.1	                |数据库分库分表支持
Elasticsearch	    |8.2.0	                |搜索引擎服务
RabbitMQ	        |3.10.2	                |开源消息中间件
XXL-JOB	            |2.3.1	                |分布式任务调度平台
Sentinel	        |1.8.4	                |流量控制组件
Undertow	        |2.2.17.Final	        |Java 开发的高性能 Web 服务器
Docker	            |-	                    |应用容器引擎
Jenkins	            |-	                    |自动化部署工具
Sonarqube	        |-	                    |代码质量控制

## 主要功能
**数据表管理：** 数据表，字段，注释，索引等基本功能。
**视图管理：** 实现选择多张表多个字段后，组合一个新的视图对象，视图可生成 DDL 以及相关程序代码，例如 Java 的 DTO 等。
**ER关系图：** 数据表可绘制ER关系图至画布，也支持概念模型等高阶抽像设计。
**数据字典：** 代码映射表管理，例如 1 表示男，2 表示女，并且实现数据字典与数据表字段的关联。
**数据类型：** 系统实现了基础数据类型，基础数据类型在不同数据库下表现为不同数据库类型的方言，这是实现多数据**库支持的基础，为更贴近业务，引入了PowerDesigner的数据域这一概念，用于统一同一类具有同样业务属性字段的批量设置类型，长度等。基础数据类型以及数据域，用户均可自行添加，自行定义。
**多数据库：** 内置主流常见数据库，如 MySQL，PostgreSQL，SQLServer，Oracle等，并且支持用户自行添加新的数据库。
**代码生成：** 内置 Java，Mybatis，MyBatisPlus 等常规情况下 Controller，Service，Mapper 的生成，也添加了 C# 语言支持，可自行扩展对其他语言的支持，如Python 等。
**版本管理：** 实现数据表的版本管理，可生成增量DDL脚本。
**生态对接：** 能够导入PowerDesigner的pdm文件，老版本的PDMan文件，也能导出为word文档，导出相关设置等。

## 系统功能概要

### 前台门户系统
- 首页： 轮播图、本周推荐、热门推荐、精品推荐、点击榜单、新书榜单、更新榜单、最新新闻、友情链接、反馈留言
- 新闻模块： 新闻分类、新闻列表、新闻阅读
- 小说检索： 根据书名、作者名等关键词和作品频道、分类、是否完结、字数、更新方式等筛选条件检索小说
- 小说详情页： 小说信息展示、作家信息展示、最新章节概要、最新评论、评论发表、加入书架、同类推荐
- 小说评论页： 小说评论区，评论展示、发表评论
- 小说目录页： 小说目录展示
- 小说内容页： 小说章节订阅、小说内容阅读、小说段落评论
- 排行榜： 点击榜、更新榜、新书榜、评论榜
- 充值： 支付宝/微信购买虚拟币
- 会员中心： 登录注册、账号信息、账号设置、书架、阅读历史、书评、充值/消费记录、用户反馈

### 作家后台管理系统
- 作家申请： 获取邀请码、作家信息提交
- 小说管理： 小说发布、章节管理、薪酬查询、作品信息
- 稿费收入： 订阅明细、稿费汇总

### 平台后台管理系统
- 系统管理： 用户管理、角色管理、权限管理、菜单管理
- 首页管理： 小说推荐管理、新闻发布管理、友情链接管理
- 会员管理： 网站会员管理、反馈管理、评论管理
- 作家管理： 作家邀请码管理、作家信息管理
- 小说管理： 小说管理、小说章节管理
- 订单管理： 充值订单、订阅订单
- 统计报表： 会员、作家、小说、交易等数据的统计报表

## 数据库关系图

### 首页模块
![首页模块ER图](https://youdoc.github.io/img/er/home-ER.png)

### 新闻模块
![新闻模块ER图](https://youdoc.github.io/img/er/news-ER.png)

### 小说模块
![小说模块ER图](https://youdoc.github.io/img/er/book-ER.png)

### 用户模块
![用户模块ER图](https://youdoc.github.io/img/er/user-ER.png)

### 作家模块
![作家模块ER图](https://youdoc.github.io/img/er/author-ER.png)

### 支付模块
![支付模块ER图](https://youdoc.github.io/img/er/pay-ER.png)

### 系统模块
![系统模块ER图](https://youdoc.github.io/img/er/sys-ER.png)

## 项目结构
```
cn
 +- ruiyeclub
     +- novel   
        +- NovelApplication.java -- 项目启动类
        |
        +- core -- 项目核心模块，包括各种工具、配置和常量等
        |   +- common -- 业务无关的通用模块
        |   |   +- exception -- 通用异常处理
        |   |   +- constant -- 通用常量   
        |   |   +- req -- 通用请求数据格式封装，例如分页请求数据  
        |   |   +- resp -- 接口响应工具及响应数据格式封装 
        |   |   +- util -- 通用工具   
        |   | 
        |   +- auth -- 用户认证授权相关
        |   +- config -- 业务相关配置
        |   +- constant -- 业务相关常量         
        |   +- filter -- 过滤器 
        |   +- interceptor -- 拦截器
        |   +- task -- 定时任务
        |   +- util -- 业务相关工具 
        |   +- wrapper -- 装饰器
        |
        +- dto -- 数据传输对象，包括对各种 Http 请求和响应数据的封装
        |   +- req -- Http 请求数据封装
        |   +- resp -- Http 响应数据封装
        |
        +- dao -- 数据访问层，与底层 MySQL 进行数据交互
        +- manager -- 通用业务处理层，对第三方平台封装、对 Service 层通用能力的下沉以及对多个 DAO 的组合复用 
        +- service -- 相对具体的业务逻辑服务层  
        +- controller -- 主要是处理各种 Http 请求，各类基本参数校验，或者不复用的业务简单处理，返回 JSON 数据等
        |   +- front -- 小说门户相关接口
        |   +- author -- 作家管理后台相关接口
        |   +- admin -- 平台管理后台相关接口
        |   +- app -- app 接口
        |   +- applet -- 小程序接口
        |   +- open -- 开放接口，供第三方调用 
```